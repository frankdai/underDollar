/*! UnderDollar 2015-03-27 */
!function(a){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1});var b={ifClassList:function(){return!!document.body.classList},ifEventListener:function(){return!!a.addEventListener},forEach:function(a,b){var c,d,e;if(a.length)for(c=0;c<a.length;c++)e=b.call(a[c],c,a[c]);else if("object"==typeof a)for(d in a)e=b.call(a[d],d,a[d]);return e},toArray:function(a){var c=[];return b.forEach(a,function(){c.push(this)}),c},checkDom:function(a){return a.length?a[0].tagName?!0:void 0:a.tagName?!0:!1},camelCase:function(a){var b=a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()});return b.replace(b[0],b[0].toLowerCase())},stripScripts:function(a){var b=document.createElement("div");b.innerHTML=a;for(var c=b.getElementsByTagName("script"),d=c.length;d--;)c[d].parentNode.removeChild(c[d]);return b.innerHTML},copy:function(a){var d=[];return b.forEach(a,function(){d.push(this.cloneNode(!0))}),new c(d)},animate:function(c,d,e,f,g,h){var i,j,k=parseInt(e),l=f.indexOf("%")>0?"%":"px";d=b.camelCase(d),c.style[d]=e,parseInt(f)>parseInt(e)?(i=(parseInt(f)-parseInt(e))/(g/(1e3/60)),j=a.setInterval(function(){k<parseInt(f)?(k+=i,c.style[d]=k.toFixed(2)+l):(a.clearInterval(j),h())},17)):(i=(parseInt(e)-parseInt(f))/(g/(1e3/60)),j=a.setInterval(function(){k>parseInt(f)?(k-=i,c.style[d]=k.toFixed(6)+l):(a.clearInterval(j),h())},17))},mergeOptions:function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}},c=function(c){var d;if("string"==typeof c)try{c=document.querySelectorAll(c)}catch(e){console.log(e.message)}if(!b.checkDom(c))throw new TypeError("not a DOM element");if(c.length)for(d=0;d<c.length;d++)this[d]=c[d];else this[0]=c;return this.dat={},this.length=c.length||1,this.constructor=a._$,this.splice=function(){},this};c.prototype={each:function(a){return b.forEach(this,function(b,c){a.call(this,b,c)}),this},on:function(c,d){return this.each(function(){b.ifEventListener()?this.addEventListener(c,function(a){d.call(this,a)},!1):a.attachEvent?this.attachEvent("on"+c,d):this["on"+c]=d})},off:function(a,b){return this.each(function(){var c;b?this.removeEventListener(a,b,!1):(c=this.cloneNode(!0),this.parentNode.replaceChild(c,this))})},once:function(a,b){var c=function(d){this.removeEventListener(a,c),b.call(this,d)};if("function"==typeof b)return this.each(function(){this.addEventListener(a,c,!1)})},addClass:function(a){return this.each(function(){b.ifClassList()?this.classList.add(a):this.className+=" "+a})},removeClass:function(a){return this.each(function(){var c=this.className,d=c.split(" "),e=d.indexOf(a);return b.ifClassList()?void this.classList.remove(a):void(e>=0&&(d.splice(e,1),this.className=d.join(" "),""===this.className&&this.removeAttribute("class")))})},hasClass:function(a){return this.some(b.ifClassList()?function(){var b=this.className,c=b.split(" ");return c.indexOf(a)>=0}:function(){return this.classList.contains(a)})},toggleClass:function(a){return b.forEach(this,function(b,d){var e=new c(d);e.hasClass(a)?e.removeClass(a):e.addClass(a)}),this},eq:function(a){return new c(this[a])},some:function(a){var b,c;for(c=0;c<this.length;c++){if(a.call(this[c])===!0)return b=!0;b=!1}return b},every:function(a){var b,c;for(c=0;c<this.length;c++)return b=a.call(this[c])===!1?!1:!0},filter:function(a){var b=[];return this.each(function(){a.call(this)===!0&&b.push(this)}),new c(b)},contains:function(a){return this.some(function(){return this===a})},map:function(a){return this.copy().each(function(){a.call(this)})},parent:function(){var a={};return 0!==this.length?(this.each(function(b){a[b]=this.parentNode}),a.length=this.length):0===this.length&&(a=this[0]),new c(a)},children:function(){var a=this[0],d=a.childNodes,e=[];return b.forEach(d,function(){1===this.nodeType&&e.push(this)}),void 0!==e[0]?new c(e):null},create:function(a,d,e){if("string"==typeof a){var f=document.createElement(a);return e&&(e=b.stripScripts(e)),"object"==typeof d?(b.forEach(d,function(a,b){b=b.toString(),f.setAttribute(a,b)}),f.innerHTML=e||""):"string"==typeof d&&(f.innerHTML=d),new c(f)}},appendTo:function(a,b){var c;return c=b?this.copy():this,c.each(function(){a.appendChild(this)})},prependTo:function(a,b){var c,d=a.firstChild;return c=b?this.copy():this,c.each(function(){a.insertBefore(this,d)})},append:function(a){return this.each(function(){this.appendChild(a),a=a.cloneNode(!0)})},prepend:function(a){return this.each(function(){this.insertBefore(a,this.firstChild),a=a.cloneNode(!0)})},insertBefore:function(a){return this.each(function(){a.parentNode.insertBefore(this,a)})},insertAfter:function(a){var b=a.nextSibling;for(console.log(b);1!==b.nodeType;)b=b.nextSibling;return this.each(function(){b.parentNode.insertBefore(this,b)})},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},replace:function(){},html:function(a){var c=[];return a?"string"==typeof a?(a=b.stripScripts(a),this.each(function(){this.innerHTML=a})):a instanceof Array?this.each(function(c){this.innerHTML=b.stripScripts(a[c])}):void 0:this.length>1?(b.forEach(this,function(){c.push(this.innerHTML)}),c):this[0].innerHTML},copy:function(){return b.copy(this)},css:function(c,d){var e=[];return"object"==typeof c?this.each(function(){var a=this;b.forEach(c,function(c,d){var e=b.camelCase(c);"number"==typeof d&&(d+="px"),a.style[e]=d})}):"string"==typeof c?d?this.each(function(){var a=b.camelCase(c);"number"==typeof d&&(d+="px"),this.style[a]=d}):(this.each(function(){var d=b.camelCase(c),f=a.getComputedStyle(this)[d];e.push(f)}),1===e.length?e[0]:e):void 0},width:function(){return this[0].offsetWidth},height:function(){return this[0].offsetHeight},innerWidth:function(){return this[0].clientWidth},innerHeight:function(){return this[0].clientHeight},position:function(){},animate:function(a,c){var d={from:this.eq(0).css(a),to:this.eq(0).css(a),duration:400,callback:function(){}};return c=b.mergeOptions(d,c),b.animate(this[0],a,c.from,c.to,c.duration,c.callback),this},hide:function(){return this.each(function(){this.style.display="none"})},show:function(){return this.each(function(){this.style.display=""})},data:function(a,c){var d=this;return"object"==typeof a?(b.forEach(a,function(a,b){d.dat[a]=b}),this):void 0!==c&&"string"==typeof a?(d.dat[a]=c,d):void 0===c&&"string"==typeof a?this.dat[a]:this.dat}};var d=function(a){return new c(a)};d.ajax=function(a){var c={type:"GET",url:"/",beforeSend:function(){},loading:function(){},complete:function(){},error:function(){},responseType:"text"};a=b.mergeOptions(c,a);var d=new XMLHttpRequest;d.open(a.type,a.url,!0),a.request&&d.setRequestHeader(a.request.head,a.request.value),a.data?d.send(a.data):d.send(),d.onreadystatechange=function(){1==d.readyState&&a.beforeSend(),3==d.readyState&&a.loading(),4==d.readyState&&200==d.status&&("JSON"===a.responseType?a.complete.call(this,JSON.parse(d.response)):a.complete.call(this,d.response)),4==d.readyState&&200!==d.status&&a.error.call(this)}},d.extend=function(a){b.forEach(a,function(a,b){"string"==typeof a&&"function"==typeof b&&(c.prototype[a]=b)})},"object"==typeof module&&"object"==typeof module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):a.underDollar=a._$=d}(window);